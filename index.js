(()=>{"use strict";var e,t;function n(t){if(t.current_mode!==e.circle)throw`unsupported mode: ${t.current_mode}`;if(t.next_mode!==e.circle)throw`unsupported mode: ${t.current_mode}`;return t.current_mode=t.next_mode,!0}function a(e,c){let o=[];for(;e.task_stack.length;){let a,c=e.task_stack.pop();switch(c){case t.change_mode:a=n(e);break;case t.none:a=!0;break;default:throw`unknown task: ${c}`}a||o.push(c)}e.task_stack=o,function(e,t){console.log("render"),e.ctx.drawImage(e.images[0],0,0),e.ctx.beginPath(),e.ctx.arc(500,400,500,0,2*Math.PI),e.ctx.clip(),e.ctx.drawImage(e.images[1],0,0)}(e),e.task_stack.length?(window.requestAnimationFrame((t=>{a(e)})),e.next_update_queued=!0):e.next_update_queued=!1}!function(e){e[e[void 0]=0]="undefined",e[e.vertical=1]="vertical",e[e.horizontal=2]="horizontal",e[e.circle=3]="circle"}(e||(e={})),function(e){e[e.none=0]="none",e[e.change_mode=1]="change_mode"}(t||(t={})),function(n,c,o){let r=function(e){let t=document.getElementById("canvas"),n=t.getContext("2d");return t.width=t.scrollWidth,t.height=t.scrollHeight,n}();!function(e,t){if(2!=e.length)throw`image_urls must contain exactly two images, not ${e.length}`;let n=e.map((()=>document.createElement("img"))),a=0;for(let c=0;c<n.length;++c){let o=n[c],r=e[c];o.onload=()=>{++a,a==n.length&&t(n)},o.src=r}}(o,(n=>{var u;(u={image_urls:o,images:n,canvas:r.canvas,ctx:r,width:r.canvas.width,height:r.canvas.height,next_mode:c,current_mode:e.undefined,task_stack:[t.none],next_update_queued:!1}).next_update_queued||(u.next_update_queued=!0,a(u))}))}(0,e.circle,["https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.publicdomainpictures.net%2Fpictures%2F90000%2Fvelka%2Fblue-sunset-wallpaper.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fc4.wallpaperflare.com%2Fwallpaper%2F611%2F595%2F814%2Fabstract-3d-neon-glow-wallpaper-99e0c8adb1aaed4bb6a7a83f805186fd.jpg&f=1&nofb=1"])})();